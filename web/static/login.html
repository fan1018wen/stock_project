<style type="text/css">
	#login-form {
		width: 450px;
		margin: 15px auto;
		padding: 20px;
		text-align: left;
		border: 1px solid #A4CDF2;
	}
</style>

<div ng-controller='loginCtrl' class="container" ng-init="user={}">

	<div class="row">
		<form role="form" id="login-form" ng-submit="submit()">
			<div class="form-group">
				<label for="exampleInputEmail1">邮箱</label>
				<input type="text" class="form-control" ng-model="user.username" placeholder="">
			</div>
			<div class="form-group">
				<label for="exampleInputPassword1">密码</label>
				<input type="password" class="form-control" ng-model="user.password" placeholder="">
			</div>

			<!-- <div class="checkbox">
				<label>
					<input type="checkbox">
					记住密码</label>
			</div> -->
			<button type="submit" class="btn btn-default">
				登录
			</button> {{user.msg}}
		</form>
		
	</div>
</div>

<div ng-controller="reloadCtrl"></div>
<script type="text/javascript" charset="utf-8">
	

	function reloadCtrl($http, $route) {
		var oldHtml = '';
		var reload = function(url) {
			$http.get(url).success(function(newHtml) {
				if (oldHtml.length > 0 && newHtml != oldHtml) {
					clearInterval(id);
					$route.reload();
				} else {
					oldHtml = newHtml;
					//					console.log('watch')
				}
			});
		};
		var reloadList = function() {
			reload('/static/login.html');

		}
//		var id = setInterval(reloadList, 300);
	}

</script>

